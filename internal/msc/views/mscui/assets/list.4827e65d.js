import{_,$ as v,a as h,E as y,a1 as b,b as g,Z as V,o as k,c as x,w as i,d as t,e as a,f as w}from"./index.d39b14b4.js";const E={emits:["success","closed"],data(){return{mode:"add",titleMap:{add:"\u65B0\u589E\u9879",edit:"\u7F16\u8F91\u9879"},visible:!1,isSaveing:!1,form:{id:"",dic:"",name:"",key:"",yx:"1"},rules:{dic:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u5B57\u5178"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u540D\u79F0"}],key:[{required:!0,message:"\u8BF7\u8F93\u5165\u952E\u503C"}]},dic:[],dicProps:{value:"id",label:"name",emitPath:!1,checkStrictly:!0}}},mounted(){this.params&&(this.form.dic=this.params.code),this.getDic()},methods:{open(l="add"){return this.mode=l,this.visible=!0,this},async getDic(){var l=await this.$API.system.dic.tree.get();this.dic=l.data},submit(){this.$refs.dialogForm.validate(async l=>{if(l){this.isSaveing=!0;var e=await this.$API.demo.post.post(this.form);this.isSaveing=!1,e.code==200?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("\u64CD\u4F5C\u6210\u529F")):this.$alert(e.message,"\u63D0\u793A",{type:"error"})}})},setData(l){this.form.id=l.id,this.form.name=l.name,this.form.key=l.key,this.form.yx=l.yx,this.form.dic=l.dic}}},S=a("\u53D6 \u6D88"),C=a("\u4FDD \u5B58");function D(l,e,P,U,o,d){const u=v,r=h,m=y,f=b,p=g,n=w,c=V;return k(),x(c,{title:o.titleMap[o.mode],modelValue:o.visible,"onUpdate:modelValue":e[6]||(e[6]=s=>o.visible=s),width:400,"destroy-on-close":"",onClosed:e[7]||(e[7]=s=>l.$emit("closed"))},{footer:i(()=>[t(n,{onClick:e[4]||(e[4]=s=>o.visible=!1)},{default:i(()=>[S]),_:1}),t(n,{type:"primary",loading:o.isSaveing,onClick:e[5]||(e[5]=s=>d.submit())},{default:i(()=>[C]),_:1},8,["loading"])]),default:i(()=>[t(p,{model:o.form,rules:o.rules,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:i(()=>[t(r,{label:"\u6240\u5C5E\u5B57\u5178",prop:"dic"},{default:i(()=>[t(u,{modelValue:o.form.dic,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.dic=s),options:o.dic,props:o.dicProps,"show-all-levels":!1,clearable:""},null,8,["modelValue","options","props"])]),_:1}),t(r,{label:"\u9879\u540D\u79F0",prop:"name"},{default:i(()=>[t(m,{modelValue:o.form.name,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.name=s),clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u952E\u503C",prop:"key"},{default:i(()=>[t(m,{modelValue:o.form.key,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.key=s),clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u662F\u5426\u6709\u6548",prop:"yx"},{default:i(()=>[t(f,{modelValue:o.form.yx,"onUpdate:modelValue":e[3]||(e[3]=s=>o.form.yx=s),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}const I=_(E,[["render",D]]);export{I as default};
