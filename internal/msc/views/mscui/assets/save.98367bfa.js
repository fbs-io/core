import{_ as g,E as v,a as c,a0 as h,a1 as k,b as w,Z as y,o as n,c as u,w as r,d as t,P as E,e as d,f as x}from"./index.d39b14b4.js";const U={emits:["success","closed"],data(){return{mode:"add",titleMap:{add:"\u65B0\u589E",edit:"\u7F16\u8F91",show:"\u67E5\u770B"},visible:!1,isSaveing:!1,form:{id:"",label:"",alias:"",sort:1,status:1,remark:""},rules:{sort:[{required:!0,message:"\u8BF7\u8F93\u5165\u6392\u5E8F",trigger:"change"}],label:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u540D\u79F0"}],alias:[{required:!0,message:"\u8BF7\u8F93\u5165\u89D2\u8272\u522B\u540D"}]}}},mounted(){},methods:{open(s="add"){return this.mode=s,this.visible=!0,this},submit(){this.$refs.dialogForm.validate(async s=>{if(s){this.isSaveing=!0;var e=await this.$API.demo.post.post(this.form);this.isSaveing=!1,e.code==200?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("\u64CD\u4F5C\u6210\u529F")):this.$alert(e.message,"\u63D0\u793A",{type:"error"})}})},setData(s){this.form.id=s.id,this.form.label=s.label,this.form.alias=s.alias,this.form.sort=s.sort,this.form.status=s.status,this.form.remark=s.remark}}},C=d("\u53D6 \u6D88"),S=d("\u4FDD \u5B58");function F(s,e,I,N,l,f){const m=v,i=c,p=h,b=k,_=w,a=x,V=y;return n(),u(V,{title:l.titleMap[l.mode],modelValue:l.visible,"onUpdate:modelValue":e[7]||(e[7]=o=>l.visible=o),width:500,"destroy-on-close":"",onClosed:e[8]||(e[8]=o=>s.$emit("closed"))},{footer:r(()=>[t(a,{onClick:e[5]||(e[5]=o=>l.visible=!1)},{default:r(()=>[C]),_:1}),l.mode!="show"?(n(),u(a,{key:0,type:"primary",loading:l.isSaveing,onClick:e[6]||(e[6]=o=>f.submit())},{default:r(()=>[S]),_:1},8,["loading"])):E("",!0)]),default:r(()=>[t(_,{model:l.form,rules:l.rules,disabled:l.mode=="show",ref:"dialogForm","label-width":"100px","label-position":"left"},{default:r(()=>[t(i,{label:"\u89D2\u8272\u540D\u79F0",prop:"label"},{default:r(()=>[t(m,{modelValue:l.form.label,"onUpdate:modelValue":e[0]||(e[0]=o=>l.form.label=o),clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"\u89D2\u8272\u522B\u540D",prop:"alias"},{default:r(()=>[t(m,{modelValue:l.form.alias,"onUpdate:modelValue":e[1]||(e[1]=o=>l.form.alias=o),clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"\u6392\u5E8F",prop:"sort"},{default:r(()=>[t(p,{modelValue:l.form.sort,"onUpdate:modelValue":e[2]||(e[2]=o=>l.form.sort=o),"controls-position":"right",min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(i,{label:"\u662F\u5426\u6709\u6548",prop:"status"},{default:r(()=>[t(b,{modelValue:l.form.status,"onUpdate:modelValue":e[3]||(e[3]=o=>l.form.status=o),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1}),t(i,{label:"\u5907\u6CE8",prop:"remark"},{default:r(()=>[t(m,{modelValue:l.form.remark,"onUpdate:modelValue":e[4]||(e[4]=o=>l.form.remark=o),clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","disabled"])]),_:1},8,["title","modelValue"])}const B=g(U,[["render",F]]);export{B as default};
