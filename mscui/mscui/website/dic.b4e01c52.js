import{_ as c,a9 as _,o as h,e as b,w as i,f as t,l as d,m as g,n as v,s as V,q as I,B as y}from"./index.fb9fcfd7.js";const w={emits:["success","closed"],data(){return{mode:"add",titleMap:{add:"\u65B0\u589E\u5B57\u5178",edit:"\u7F16\u8F91\u5B57\u5178"},visible:!1,isSaveing:!1,form:{id:"",name:"",code:"",parentId:""},rules:{code:[{required:!0,message:"\u8BF7\u8F93\u5165\u7F16\u7801"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u5B57\u5178\u540D\u79F0"}]},dic:[],dicProps:{value:"id",label:"name",emitPath:!1,checkStrictly:!0}}},mounted(){this.getDic()},methods:{open(l="add"){return this.mode=l,this.visible=!0,this},async getDic(){var l=await this.$API.system.dic.tree.get();this.dic=l.data},submit(){this.$refs.dialogForm.validate(async l=>{if(l){this.isSaveing=!0;var e=await this.$API.demo.post.post(this.form);this.isSaveing=!1,e.code==200?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("\u64CD\u4F5C\u6210\u529F")):this.$alert(e.message,"\u63D0\u793A",{type:"error"})}})},setData(l){this.form.id=l.id,this.form.name=l.name,this.form.code=l.code,this.form.parentId=l.parentId}}},E=d("\u53D6 \u6D88"),k=d("\u4FDD \u5B58");function x(l,e,C,D,o,m){const n=g,r=v,p=_,u=V,a=I,f=y;return h(),b(f,{title:o.titleMap[o.mode],modelValue:o.visible,"onUpdate:modelValue":e[5]||(e[5]=s=>o.visible=s),width:330,"destroy-on-close":"",onClosed:e[6]||(e[6]=s=>l.$emit("closed"))},{footer:i(()=>[t(a,{onClick:e[3]||(e[3]=s=>o.visible=!1)},{default:i(()=>[E]),_:1}),t(a,{type:"primary",loading:o.isSaveing,onClick:e[4]||(e[4]=s=>m.submit())},{default:i(()=>[k]),_:1},8,["loading"])]),default:i(()=>[t(u,{model:o.form,rules:o.rules,ref:"dialogForm","label-width":"80px","label-position":"left"},{default:i(()=>[t(r,{label:"\u7F16\u7801",prop:"code"},{default:i(()=>[t(n,{modelValue:o.form.code,"onUpdate:modelValue":e[0]||(e[0]=s=>o.form.code=s),clearable:"",placeholder:"\u5B57\u5178\u7F16\u7801"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u5B57\u5178\u540D\u79F0",prop:"name"},{default:i(()=>[t(n,{modelValue:o.form.name,"onUpdate:modelValue":e[1]||(e[1]=s=>o.form.name=s),clearable:"",placeholder:"\u5B57\u5178\u663E\u793A\u540D\u79F0"},null,8,["modelValue"])]),_:1}),t(r,{label:"\u7236\u8DEF\u5F84",prop:"parentId"},{default:i(()=>[t(p,{modelValue:o.form.parentId,"onUpdate:modelValue":e[2]||(e[2]=s=>o.form.parentId=s),options:o.dic,props:o.dicProps,"show-all-levels":!1,clearable:""},null,8,["modelValue","options","props"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}const S=c(w,[["render",x]]);export{S as default};
