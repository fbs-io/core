import{_,a9 as v,ab as h,o as y,e as b,w as i,f as t,l as a,n as g,m as V,s as k,q as x,B as w}from"./index.0141021f.js";const E={emits:["success","closed"],data(){return{mode:"add",titleMap:{add:"\u65B0\u589E\u9879",edit:"\u7F16\u8F91\u9879"},visible:!1,isSaveing:!1,form:{id:"",dic:"",name:"",key:"",yx:"1"},rules:{dic:[{required:!0,message:"\u8BF7\u9009\u62E9\u6240\u5C5E\u5B57\u5178"}],name:[{required:!0,message:"\u8BF7\u8F93\u5165\u9879\u540D\u79F0"}],key:[{required:!0,message:"\u8BF7\u8F93\u5165\u952E\u503C"}]},dic:[],dicProps:{value:"id",label:"name",emitPath:!1,checkStrictly:!0}}},mounted(){this.params&&(this.form.dic=this.params.code),this.getDic()},methods:{open(o="add"){return this.mode=o,this.visible=!0,this},async getDic(){var o=await this.$API.system.dic.tree.get();this.dic=o.data},submit(){this.$refs.dialogForm.validate(async o=>{if(o){this.isSaveing=!0;var e=await this.$API.demo.post.post(this.form);this.isSaveing=!1,e.code==200?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("\u64CD\u4F5C\u6210\u529F")):this.$alert(e.message,"\u63D0\u793A",{type:"error"})}})},setData(o){this.form.id=o.id,this.form.name=o.name,this.form.key=o.key,this.form.yx=o.yx,this.form.dic=o.dic}}},S=a("\u53D6 \u6D88"),C=a("\u4FDD \u5B58");function D(o,e,P,U,l,d){const u=v,r=g,m=V,f=h,p=k,n=x,c=w;return y(),b(c,{title:l.titleMap[l.mode],modelValue:l.visible,"onUpdate:modelValue":e[6]||(e[6]=s=>l.visible=s),width:400,"destroy-on-close":"",onClosed:e[7]||(e[7]=s=>o.$emit("closed"))},{footer:i(()=>[t(n,{onClick:e[4]||(e[4]=s=>l.visible=!1)},{default:i(()=>[S]),_:1}),t(n,{type:"primary",loading:l.isSaveing,onClick:e[5]||(e[5]=s=>d.submit())},{default:i(()=>[C]),_:1},8,["loading"])]),default:i(()=>[t(p,{model:l.form,rules:l.rules,ref:"dialogForm","label-width":"100px","label-position":"left"},{default:i(()=>[t(r,{label:"\u6240\u5C5E\u5B57\u5178",prop:"dic"},{default:i(()=>[t(u,{modelValue:l.form.dic,"onUpdate:modelValue":e[0]||(e[0]=s=>l.form.dic=s),options:l.dic,props:l.dicProps,"show-all-levels":!1,clearable:""},null,8,["modelValue","options","props"])]),_:1}),t(r,{label:"\u9879\u540D\u79F0",prop:"name"},{default:i(()=>[t(m,{modelValue:l.form.name,"onUpdate:modelValue":e[1]||(e[1]=s=>l.form.name=s),clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u952E\u503C",prop:"key"},{default:i(()=>[t(m,{modelValue:l.form.key,"onUpdate:modelValue":e[2]||(e[2]=s=>l.form.key=s),clearable:""},null,8,["modelValue"])]),_:1}),t(r,{label:"\u662F\u5426\u6709\u6548",prop:"yx"},{default:i(()=>[t(f,{modelValue:l.form.yx,"onUpdate:modelValue":e[3]||(e[3]=s=>l.form.yx=s),"active-value":"1","inactive-value":"0"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["title","modelValue"])}const B=_(E,[["render",D]]);export{B as default};
