import{_ as T,ad as E,h as K,i as C,o as p,e as f,w as l,f as e,g as d,W as b,ax as v,c as S,K as I,J as B,l as g,H as D,n as M,m as N,s as L,I as U,q as $,B as F,t as y,L as H,M as O}from"./index.df56bffb.js";/* empty css                    *//* empty css                */const P={emits:["success","closed"],data(){return{visible:!1,isSaveing:!1,menu:{list:[],checked:[],props:{label:o=>o.meta.title}},data:{dataType:"1",list:[],checked:[],props:{},rule:""},dashboard:"0",dashboardOptions:[{value:"0",label:"\u6570\u636E\u7EDF\u8BA1",views:"stats"},{value:"1",label:"\u5DE5\u4F5C\u53F0",views:"work"}]}},mounted(){this.getMenu(),this.getDept()},methods:{open(){this.visible=!0},submit(){this.isSaveing=!0;var o=this.$refs.menu.getCheckedKeys().concat(this.$refs.menu.getHalfCheckedKeys());console.log(o);var t=this.$refs.dept.getCheckedKeys().concat(this.$refs.dept.getHalfCheckedKeys());console.log(t),setTimeout(()=>{this.isSaveing=!1,this.visible=!1,this.$message.success("\u64CD\u4F5C\u6210\u529F"),this.$emit("success")},1e3)},async getMenu(){var o=await this.$API.system.menu.list.get();this.menu.list=o.data,this.menu.checked=["system","user","user.add","user.edit","user.del","directive.edit","other","directive"],this.$nextTick(()=>{let t=this.menu.checked.filter(n=>this.$refs.menu.getNode(n).isLeaf);this.$refs.menu.setCheckedKeys(t,!0)})},async getDept(){var o=await this.$API.system.dept.list.get();this.data.list=o.data,this.data.checked=["12","2","21","22","1"],this.$nextTick(()=>{let t=this.data.checked.filter(n=>this.$refs.dept.getNode(n).isLeaf);this.$refs.dept.setCheckedKeys(t,!0)})}}},A=o=>(H("data-v-10d02024"),o=o(),O(),o),q={class:"treeMain"},z={class:"treeMain",style:{width:"100%"}},J={style:{float:"left"}},W={style:{float:"right",color:"#8492a6","font-size":"12px"}},j=A(()=>d("div",{class:"el-form-item-msg"},"\u7528\u4E8E\u63A7\u5236\u89D2\u8272\u767B\u5F55\u540E\u63A7\u5236\u53F0\u7684\u89C6\u56FE",-1)),G=g("\u53D6 \u6D88"),Q=g("\u4FDD \u5B58");function R(o,t,n,X,s,k){const c=E,u=D,i=K,_=C,r=M,w=N,m=L,V=U,h=$,x=F;return p(),f(x,{title:"\u89D2\u8272\u6743\u9650\u8BBE\u7F6E",modelValue:s.visible,"onUpdate:modelValue":t[5]||(t[5]=a=>s.visible=a),width:500,"destroy-on-close":"",onClosed:t[6]||(t[6]=a=>o.$emit("closed"))},{footer:l(()=>[e(h,{onClick:t[3]||(t[3]=a=>s.visible=!1)},{default:l(()=>[G]),_:1}),e(h,{type:"primary",loading:s.isSaveing,onClick:t[4]||(t[4]=a=>k.submit())},{default:l(()=>[Q]),_:1},8,["loading"])]),default:l(()=>[e(V,{"tab-position":"top"},{default:l(()=>[e(u,{label:"\u83DC\u5355\u6743\u9650"},{default:l(()=>[d("div",q,[e(c,{ref:"menu","node-key":"name",data:s.menu.list,props:s.menu.props,"show-checkbox":""},null,8,["data","props"])])]),_:1}),e(u,{label:"\u6570\u636E\u6743\u9650"},{default:l(()=>[e(m,{"label-width":"100px","label-position":"left"},{default:l(()=>[e(r,{label:"\u89C4\u5219\u7C7B\u578B"},{default:l(()=>[e(_,{modelValue:s.data.dataType,"onUpdate:modelValue":t[0]||(t[0]=a=>s.data.dataType=a),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[e(i,{label:"\u5168\u90E8\u53EF\u89C1",value:"1"}),e(i,{label:"\u672C\u4EBA\u53EF\u89C1",value:"2"}),e(i,{label:"\u6240\u5728\u90E8\u95E8\u53EF\u89C1",value:"3"}),e(i,{label:"\u6240\u5728\u90E8\u95E8\u53CA\u5B50\u7EA7\u53EF\u89C1",value:"4"}),e(i,{label:"\u9009\u62E9\u7684\u90E8\u95E8\u53EF\u89C1",value:"5"}),e(i,{label:"\u81EA\u5B9A\u4E49",value:"6"})]),_:1},8,["modelValue"])]),_:1}),b(e(r,{label:"\u9009\u62E9\u90E8\u95E8"},{default:l(()=>[d("div",z,[e(c,{ref:"dept","node-key":"id",data:s.data.list,props:s.data.props,"show-checkbox":""},null,8,["data","props"])])]),_:1},512),[[v,s.data.dataType=="5"]]),b(e(r,{label:"\u89C4\u5219\u503C"},{default:l(()=>[e(w,{modelValue:s.data.rule,"onUpdate:modelValue":t[1]||(t[1]=a=>s.data.rule=a),clearable:"",type:"textarea",rows:6,placeholder:"\u8BF7\u8F93\u5165\u81EA\u5B9A\u4E49\u89C4\u5219\u4EE3\u7801"},null,8,["modelValue"])]),_:1},512),[[v,s.data.dataType=="6"]])]),_:1})]),_:1}),e(u,{label:"\u63A7\u5236\u53F0"},{default:l(()=>[e(m,{"label-width":"100px","label-position":"left"},{default:l(()=>[e(r,{label:"\u63A7\u5236\u53F0\u89C6\u56FE"},{default:l(()=>[e(_,{modelValue:s.dashboard,"onUpdate:modelValue":t[2]||(t[2]=a=>s.dashboard=a),placeholder:"\u8BF7\u9009\u62E9"},{default:l(()=>[(p(!0),S(B,null,I(s.dashboardOptions,a=>(p(),f(i,{key:a.value,label:a.label,value:a.value},{default:l(()=>[d("span",J,y(a.label),1),d("span",W,y(a.views),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),j]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])}const te=T(P,[["render",R],["__scopeId","data-v-10d02024"]]);export{te as default};
