import{_ as E,ao as F,k as T,o as a,c as h,f as s,C as b,J as $,K as M,e as p,w as n,g as r,t as w,ag as S,as as O,S as V,aD as Z,aE as ee,E as te,au as U,b as z,d as G,ai as H,aF as W,W as P,aG as se,aH as K,L as A,M as N,aI as oe,aJ as ne,aK as le,r as ae,l as k,ac as ie,X as re,u as D,aL as ce,aM as Y,aN as ue,aO as de,aP as _e,aQ as me,m as he,O as q,at as fe,aR as pe,aS as ge,q as ye,U as ve,ae as be,V as $e,aB as ke,aT as xe,D as we,F as Te,G as Ce,B as Ee,aU as R,aV as Le,ab as Ie,h as Ve,i as Me,av as Oe,n as Pe,s as Se,ax as B,aW as Ae}from"./index.df56bffb.js";/* empty css                  *//* empty css                  *//* empty css                */import{_ as X}from"./logo.5036a585.js";/* empty css                        *//* empty css                         *//* empty css                  *//* empty css                */const Ne={name:"NavMenu",props:["navMenus"],data(){return{}},methods:{hasChildren(e){return e.children&&!e.children.every(t=>t.meta.hidden)}}},De={key:0,style:{padding:"20px"}},Re=["href"],Be={key:0,class:"menu-tag"},Fe={key:1,class:"menu-tag"};function Ue(e,t,o,d,l,i){const u=F,f=V,g=Z,_=T("NavMenu",!0),m=ee;return a(),h($,null,[o.navMenus.length<=0?(a(),h("div",De,[s(u,{title:"\u65E0\u5B50\u96C6\u83DC\u5355",center:"",type:"info",closable:!1})])):b("",!0),(a(!0),h($,null,M(o.navMenus,c=>(a(),h($,{key:c},[i.hasChildren(c)?(a(),p(m,{key:1,index:c.path},{title:n(()=>[c.meta&&c.meta.icon?(a(),p(f,{key:0},{default:n(()=>[(a(),p(O(c.meta.icon||"el-icon-menu")))]),_:2},1024)):b("",!0),r("span",null,w(c.meta.title),1),c.meta.tag?(a(),h("span",Fe,w(c.meta.tag),1)):b("",!0)]),default:n(()=>[s(_,{navMenus:c.children},null,8,["navMenus"])]),_:2},1032,["index"])):(a(),p(g,{key:0,index:c.path},{title:n(()=>[r("span",null,w(c.meta.title),1),c.meta.tag?(a(),h("span",Be,w(c.meta.tag),1)):b("",!0)]),default:n(()=>[c.meta&&c.meta.type=="link"?(a(),h("a",{key:0,href:c.path,target:"_blank",onClick:t[0]||(t[0]=S(()=>{},["stop"]))},null,8,Re)):b("",!0),c.meta&&c.meta.icon?(a(),p(f,{key:1},{default:n(()=>[(a(),p(O(c.meta.icon||"el-icon-menu")))]),_:2},1024)):b("",!0)]),_:2},1032,["index"]))],64))),128))],64)}const j=E(Ne,[["render",Ue]]);const ze={components:{NavMenu:j},data(){return{nav:!1,menu:[]}},computed:{},created(){var e=this.$router.sc_getMenu();this.menu=this.filterUrl(e)},watch:{},methods:{showMobileNav(e){var t=e.currentTarget.getAttribute("drag-flag");if(t=="true")return!1;this.nav=!0},select(){this.$refs.mobileNavBox.handleClose()},filterUrl(e){var t=[];return e&&e.forEach(o=>{if(o.meta=o.meta?o.meta:{},o.meta.hidden||o.meta.type=="button")return!1;o.meta.type=="iframe"&&(o.path=`/i/${o.name}`),o.children&&o.children.length>0&&(o.children=this.filterUrl(o.children)),t.push(o)}),t}},directives:{drag(e){let t=e,o="",d="";t.onmousedown=function(l){let i=l.clientX-t.offsetLeft,u=l.clientY-t.offsetTop;return document.onmousemove=function(f){t.setAttribute("drag-flag",!0),o=new Date().getTime();let g=f.clientX-i,_=f.clientY-u;_>0&&_<document.body.clientHeight-50&&(t.style.top=_+"px"),g>0&&g<document.body.clientWidth-50&&(t.style.left=g+"px")},document.onmouseup=function(){d=new Date().getTime(),d-o>200&&t.setAttribute("drag-flag",!1),document.onmousemove=null,document.onmouseup=null},!1}}}},Ge=e=>(A("data-v-033375fc"),e=e(),N(),e),He={class:"logo-bar"},We=Ge(()=>r("img",{class:"logo",src:X},null,-1));function Ke(e,t,o,d,l,i){const u=se,f=V,g=te,_=T("NavMenu"),m=K,c=U,x=z,y=G,v=H,L=W("drag");return a(),h($,null,[P((a(),h("div",{ref:"",class:"mobile-nav-button",onClick:t[0]||(t[0]=C=>i.showMobileNav(C)),draggable:"false"},[s(f,null,{default:n(()=>[s(u)]),_:1})])),[[L]]),s(v,{ref:"mobileNavBox",title:"\u79FB\u52A8\u7AEF\u83DC\u5355",size:240,modelValue:l.nav,"onUpdate:modelValue":t[1]||(t[1]=C=>l.nav=C),direction:"ltr","with-header":!1,"destroy-on-close":""},{default:n(()=>[s(y,{class:"mobile-nav"},{default:n(()=>[s(g,null,{default:n(()=>[r("div",He,[We,r("span",null,w(e.$CONFIG.APP_NAME),1)])]),_:1}),s(x,null,{default:n(()=>[s(c,null,{default:n(()=>[s(m,{"default-active":e.$route.meta.active||e.$route.fullPath,onSelect:i.select,router:"","background-color":"#212d3d","text-color":"#fff","active-text-color":"#409EFF"},{default:n(()=>[s(_,{navMenus:l.menu},null,8,["navMenus"])]),_:1},8,["default-active","onSelect"])]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}const Ye=E(ze,[["render",Ke],["__scopeId","data-v-033375fc"]]);const qe={data(){return{breadList:[]}},created(){this.getBreadcrumb()},watch:{$route(){this.getBreadcrumb()}},methods:{getBreadcrumb(){let e=this.$route.meta.breadcrumb;this.breadList=e}}},Xe=e=>(A("data-v-dde00e41"),e=e(),N(),e),je={class:"adminui-topbar"},Je={class:"left-panel"},Qe=Xe(()=>r("div",{class:"center-panel"},null,-1)),Ze={class:"right-panel"};function et(e,t,o,d,l,i){const u=V,f=oe,g=ne;return a(),h("div",je,[r("div",Je,[s(g,{"separator-icon":"el-icon-arrow-right",class:"hidden-sm-and-down"},{default:n(()=>[s(le,{name:"breadcrumb",mode:"out-in"},{default:n(()=>[(a(!0),h($,null,M(l.breadList,_=>(a(),h($,{key:_.title},[_.path!="/"&&!_.meta.hiddenBreadcrumb?(a(),p(f,{key:_.meta.title},{default:n(()=>[_.meta.icon?(a(),p(u,{key:0,class:"icon"},{default:n(()=>[(a(),p(O(_.meta.icon)))]),_:2},1024)):b("",!0),k(w(_.meta.title),1)]),_:2},1024)):b("",!0)],64))),128))]),_:1})]),_:1})]),Qe,r("div",Ze,[ae(e.$slots,"default",{},void 0,!0)])])}const tt=E(qe,[["render",et],["__scopeId","data-v-dde00e41"]]);const st={name:"tags",data(){return{contextMenuVisible:!1,contextMenuItem:null,left:0,top:0,tagList:this.$store.state.viewTags.viewTags,tipDisplayed:!1}},props:{},watch:{$route(e){this.addViewTags(e),this.$nextTick(()=>{const t=this.$refs.tags;t&&t.scrollWidth>t.clientWidth&&(t.querySelector(".active").scrollIntoView(),this.tipDisplayed||(this.$msgbox({type:"warning",center:!0,title:"\u63D0\u793A",message:"\u5F53\u524D\u6807\u7B7E\u6570\u91CF\u8FC7\u591A\uFF0C\u53EF\u901A\u8FC7\u9F20\u6807\u6EDA\u8F74\u6EDA\u52A8\u6807\u7B7E\u680F\u3002\u5173\u95ED\u6807\u7B7E\u6570\u91CF\u53EF\u51CF\u5C11\u7CFB\u7EDF\u6027\u80FD\u6D88\u8017\u3002",confirmButtonText:"\u77E5\u9053\u4E86"}),this.tipDisplayed=!0))})},contextMenuVisible(e){var t=this,o=function(d){let l=document.getElementById("contextmenu");l&&!l.contains(d.target)&&t.closeMenu()};e?document.body.addEventListener("click",d=>o(d)):document.body.removeEventListener("click",d=>o(d))}},created(){var e=this.$router.sc_getMenu(),t=this.treeFind(e,o=>o.path==this.$CONFIG.DASHBOARD_URL);t&&(t.fullPath=t.path,this.addViewTags(t),this.addViewTags(this.$route))},mounted(){this.tagDrop(),this.scrollInit()},methods:{treeFind(e,t){for(const o of e){if(t(o))return o;if(o.children){const d=this.treeFind(o.children,t);if(d)return d}}return null},tagDrop(){const e=this.$refs.tags;ie.create(e,{draggable:"li",animation:300})},addViewTags(e){e.name&&!e.meta.fullpage&&(this.$store.commit("pushViewTags",e),this.$store.commit("pushKeepLive",e.name))},isActive(e){return e.fullPath===this.$route.fullPath},closeSelectedTag(e,t=!0){const o=this.tagList.findIndex(d=>d.fullPath==e.fullPath);if(this.$store.commit("removeViewTags",e),this.$store.commit("removeIframeList",e),this.$store.commit("removeKeepLive",e.name),t&&this.isActive(e)){const d=this.tagList[o-1];d?this.$router.push(d):this.$router.push("/")}},openContextMenu(e,t){this.contextMenuItem=t,this.contextMenuVisible=!0,this.left=e.clientX+1,this.top=e.clientY+1,this.$nextTick(()=>{let o=document.getElementById("contextmenu");document.body.offsetWidth-e.clientX<o.offsetWidth&&(this.left=document.body.offsetWidth-o.offsetWidth+1,this.top=e.clientY+1)})},closeMenu(){this.contextMenuItem=null,this.contextMenuVisible=!1},refreshTab(){var e=this.contextMenuItem;this.contextMenuVisible=!1,this.$route.fullPath!=e.fullPath&&this.$router.push({path:e.fullPath,query:e.query}),this.$store.commit("refreshIframe",e);var t=this;setTimeout(function(){t.$store.commit("removeKeepLive",e.name),t.$store.commit("setRouteShow",!1),t.$nextTick(()=>{t.$store.commit("pushKeepLive",e.name),t.$store.commit("setRouteShow",!0)})},0)},closeTabs(){var e=this.contextMenuItem;e.meta.affix||(this.closeSelectedTag(e),this.contextMenuVisible=!1)},closeOtherTabs(){var e=this.contextMenuItem;this.$route.fullPath!=e.fullPath&&this.$router.push({path:e.fullPath,query:e.query});var t=[...this.tagList];t.forEach(o=>{if(o.meta&&o.meta.affix||e.fullPath==o.fullPath)return!0;this.closeSelectedTag(o,!1)}),this.contextMenuVisible=!1},maximize(){var e=this.contextMenuItem;this.contextMenuVisible=!1,this.$route.fullPath!=e.fullPath&&this.$router.push({path:e.fullPath,query:e.query}),document.getElementById("app").classList.add("main-maximize")},openWindow(){var e=this.contextMenuItem,t=e.href||"/";e.meta.affix||this.closeSelectedTag(e),window.open(t),this.contextMenuVisible=!1},scrollInit(){const e=this.$refs.tags;e.addEventListener("mousewheel",t,!1)||e.addEventListener("DOMMouseScroll",t,!1);function t(o){const d=o.wheelDelta||o.detail,l=1,i=-1;let u=0;d==3||d<0&&d!=-3?u=l*50:u=i*50,e.scrollLeft+=u}}}},ot={class:"adminui-tags"},nt={ref:"tags"},lt=["onContextmenu"],at=k("\u5237\u65B0"),it=r("hr",null,null,-1),rt=k("\u5173\u95ED\u6807\u7B7E"),ct=k("\u5173\u95ED\u5176\u4ED6\u6807\u7B7E"),ut=r("hr",null,null,-1),dt=k("\u6700\u5927\u5316"),_t=k("\u5728\u65B0\u7684\u7A97\u53E3\u4E2D\u6253\u5F00");function mt(e,t,o,d,l,i){const u=Y,f=V,g=T("router-link"),_=ue,m=de,c=_e,x=me;return a(),h($,null,[r("div",ot,[r("ul",nt,[(a(!0),h($,null,M(l.tagList,y=>(a(),h("li",{key:y,class:D([i.isActive(y)?"active":"",y.meta.affix?"affix":""]),onContextmenu:S(v=>i.openContextMenu(v,y),["prevent"])},[s(g,{to:y},{default:n(()=>[r("span",null,w(y.meta.title),1),y.meta.affix?b("",!0):(a(),p(f,{key:0,onClick:S(v=>i.closeSelectedTag(y),["prevent","stop"])},{default:n(()=>[s(u)]),_:2},1032,["onClick"]))]),_:2},1032,["to"])],42,lt))),128))],512)]),s(ce,{name:"el-zoom-in-top"},{default:n(()=>[l.contextMenuVisible?(a(),h("ul",{key:0,style:re({left:l.left+"px",top:l.top+"px"}),class:"contextmenu",id:"contextmenu"},[r("li",{onClick:t[0]||(t[0]=y=>i.refreshTab())},[s(f,null,{default:n(()=>[s(_)]),_:1}),at]),it,r("li",{onClick:t[1]||(t[1]=y=>i.closeTabs()),class:D(l.contextMenuItem.meta.affix?"disabled":"")},[s(f,null,{default:n(()=>[s(u)]),_:1}),rt],2),r("li",{onClick:t[2]||(t[2]=y=>i.closeOtherTabs())},[s(f,null,{default:n(()=>[s(m)]),_:1}),ct]),ut,r("li",{onClick:t[3]||(t[3]=y=>i.maximize())},[s(f,null,{default:n(()=>[s(c)]),_:1}),dt]),r("li",{onClick:t[4]||(t[4]=y=>i.openWindow())},[s(f,null,{default:n(()=>[s(x)]),_:1}),_t])],4)):b("",!0)]),_:1})],64)}const ht=E(st,[["render",mt]]);const ft={data(){return{input:"",menu:[],result:[],history:[]}},mounted(){var e=this.$TOOL.data.get("SEARCH_HISTORY")||[];this.history=e;var t=this.$TOOL.data.get("MENU");this.filterMenu(t),this.$refs.input.focus()},methods:{inputChange(e){e?this.result=this.menuFilter(e):this.result=[]},filterMenu(e){e.forEach(t=>{if(t.meta.hidden||t.meta.type=="button")return!1;t.meta.type=="iframe"&&(t.path=`/i/${t.name}`),t.children&&t.children.length>0&&!t.component?this.filterMenu(t.children):this.menu.push(t)})},menuFilter(e){var t=[],o=this.menu.filter(i=>{if(i.meta.title.toLowerCase().indexOf(e.toLowerCase())>=0||i.name.toLowerCase().indexOf(e.toLowerCase())>=0)return!0}),d=this.$router.getRoutes(),l=o.map(i=>i.meta.type=="link"?d.find(u=>u.path=="/"+i.path):d.find(u=>u.path==i.path));return l.forEach(i=>{t.push({name:i.name,type:i.meta.type,path:i.meta.type=="link"?i.path.slice(1):i.path,icon:i.meta.icon,title:i.meta.title,breadcrumb:i.meta.breadcrumb.map(u=>u.meta.title).join(" - ")})}),t},to(e){this.history.includes(this.input)||(this.history.push(this.input),this.$TOOL.data.set("SEARCH_HISTORY",this.history)),e.type=="link"?setTimeout(()=>{let t=document.createElement("a");t.style="display: none",t.target="_blank",t.href=e.path,document.body.appendChild(t),t.click(),document.body.removeChild(t)},10):this.$router.push({path:e.path}),this.$emit("success",!0)},historyClick(e){this.input=e,this.inputChange(e)},historyClose(e){this.history.splice(e,1),this.history.length<=0?this.$TOOL.data.remove("SEARCH_HISTORY"):this.$TOOL.data.set("SEARCH_HISTORY",this.history)}}},pt={class:"sc-search"},gt={key:0,class:"sc-search-history"},yt={class:"sc-search-result"},vt={key:0,class:"sc-search-no-result"},bt={key:1},$t=["onClick"],kt={class:"title"};function xt(e,t,o,d,l,i){const u=he,f=q,g=V,_=U;return a(),h("div",pt,[s(u,{ref:"input",modelValue:l.input,"onUpdate:modelValue":t[0]||(t[0]=m=>l.input=m),placeholder:"\u641C\u7D22",size:"large",clearable:"","prefix-icon":"el-icon-search","trigger-on-focus":!1,onInput:i.inputChange},null,8,["modelValue","onInput"]),l.history.length>0?(a(),h("div",gt,[(a(!0),h($,null,M(l.history,(m,c)=>(a(),p(f,{closable:"",effect:"dark",type:"info",key:m,onClick:x=>i.historyClick(m),onClose:x=>i.historyClose(c)},{default:n(()=>[k(w(m),1)]),_:2},1032,["onClick","onClose"]))),128))])):b("",!0),r("div",yt,[l.result.length<=0?(a(),h("div",vt,"\u6682\u65E0\u641C\u7D22\u7ED3\u679C")):(a(),h("ul",bt,[s(_,{"max-height":"366px"},{default:n(()=>[(a(!0),h($,null,M(l.result,m=>(a(),h("li",{key:m.path,onClick:c=>i.to(m)},[s(g,null,{default:n(()=>[(a(),p(O(m.icon||"el-icon-menu")))]),_:2},1024),r("span",kt,w(m.breadcrumb),1)],8,$t))),128))]),_:1})]))])])}const wt=E(ft,[["render",xt],["__scopeId","data-v-07d13cfa"]]);const Tt={data(){return{loading:!1,tasks:[]}},mounted(){this.getData()},methods:{async getData(){this.loading=!0;var e=await this.$API.system.tasks.list.get();this.tasks=e.data,this.loading=!1},refresh(){this.getData()},download(e){let t=document.createElement("a");t.style="display: none",t.target="_blank",t.href=e.result,document.body.appendChild(t),t.click(),document.body.removeChild(t)}}},J=e=>(A("data-v-bf8dbf09"),e=e(),N(),e),Ct=J(()=>r("h2",null,"\u6CA1\u6709\u6B63\u5728\u6267\u884C\u7684\u4EFB\u52A1",-1)),Et=J(()=>r("p",{style:{"font-size":"14px",color:"#999","line-height":"1.5",margin:"0 40px"}},"\u5728\u5904\u7406\u8017\u65F6\u8FC7\u4E45\u7684\u4EFB\u52A1\u65F6\u4E3A\u4E86\u4E0D\u963B\u788D\u6B63\u5728\u5904\u7406\u7684\u5DE5\u4F5C\uFF0C\u53EF\u5728\u4EFB\u52A1\u4E2D\u5FC3\u8FDB\u884C\u5F02\u6B65\u6267\u884C\u3002",-1)),Lt={class:"user-bar-tasks-item-body"},It={class:"taskIcon"},Vt={class:"taskMain"},Mt={class:"title"},Ot=k(" \u521B\u5EFA"),Pt={class:"bottom"},St={class:"state"},At=k("\u6267\u884C\u4E2D"),Nt=k("\u5B8C\u6210"),Dt={class:"handler"};function Rt(e,t,o,d,l,i){const u=fe,f=pe,g=V,_=ge,m=q,c=ye,x=ve,y=z,v=be,L=G,C=W("time"),Q=$e;return P((a(),p(L,null,{default:n(()=>[s(y,null,{default:n(()=>[l.tasks.length==0?(a(),p(u,{key:0,"image-size":120},{description:n(()=>[Ct]),default:n(()=>[Et]),_:1})):b("",!0),(a(!0),h($,null,M(l.tasks,I=>(a(),p(x,{key:I.id,shadow:"hover",class:"user-bar-tasks-item"},{default:n(()=>[r("div",Lt,[r("div",It,[I.type=="export"?(a(),p(g,{key:0,size:20},{default:n(()=>[s(f)]),_:1})):b("",!0),I.type=="report"?(a(),p(g,{key:1,size:20},{default:n(()=>[s(_)]),_:1})):b("",!0)]),r("div",Vt,[r("div",Mt,[r("h2",null,w(I.taskName),1),r("p",null,[P(r("span",null,null,512),[[C,I.createDate,void 0,{tip:!0}]]),Ot])]),r("div",Pt,[r("div",St,[I.state=="0"?(a(),p(m,{key:0,type:"info"},{default:n(()=>[At]),_:1})):b("",!0),I.state=="1"?(a(),p(m,{key:1},{default:n(()=>[Nt]),_:1})):b("",!0)]),r("div",Dt,[I.state=="1"?(a(),p(c,{key:0,type:"primary",circle:"",icon:"el-icon-download",onClick:ms=>i.download(I)},null,8,["onClick"])):b("",!0)])])])])]),_:2},1024))),128))]),_:1}),s(v,{style:{padding:"10px","text-align":"right"}},{default:n(()=>[s(c,{circle:"",icon:"el-icon-refresh",onClick:i.refresh},null,8,["onClick"])]),_:1})]),_:1})),[[Q,l.loading]])}const Bt=E(Tt,[["render",Rt],["__scopeId","data-v-bf8dbf09"]]);const Ft={components:{search:wt,tasks:Bt},data(){return{userName:"",userNameF:"",searchVisible:!1,tasksVisible:!1,msg:!1,msgList:[{id:1,type:"user",avatar:"/img/avatar.jpg",title:"Skuya",describe:"\u5982\u679C\u559C\u6B22\u5C31\u70B9\u4E2A\u661F\u661F\u652F\u6301\u4E00\u4E0B\u54E6",link:"https://gitee.com/lolicode/scui",time:"5\u5206\u949F\u524D"},{id:2,type:"user",avatar:"/img/avatar2.gif",title:"Lolowan",describe:"\u70B9\u8FDB\u53BBGitee\u83B7\u53D6\u6700\u65B0\u5F00\u6E90\u7248\u672C",link:"https://gitee.com/lolicode/scui",time:"14\u5206\u949F\u524D"},{id:3,type:"system",avatar:"/img/logo.png",title:"\u611F\u8C22\u767B\u5F55SCUI Admin",describe:"Vue 3.0 + Vue-Router 4.0 + ElementPlus + Axios \u540E\u53F0\u7BA1\u7406\u7CFB\u7EDF\u3002",link:"https://gitee.com/lolicode/scui",time:"2020\u5E747\u670824\u65E5"}]}},created(){var e=this.$TOOL.data.get("USER_INFO");this.userName=e.userName,this.userNameF=this.userName.substring(0,1)},methods:{handleUser(e){e=="uc"&&this.$router.push({path:"/usercenter"}),e=="cmd"&&this.$router.push({path:"/cmd"}),e=="restart"&&this.$confirm("\u670D\u52A1\u91CD\u542F\u5C06\u4F1A\u4E2D\u65AD\u6240\u6709\u670D\u52A1\u8FD0\u884C\uFF0C\u8BF7\u786E\u8BA4\u5F53\u524D\u4E1A\u52A1\u662F\u5426\u5141\u8BB8\uFF0C\u4E00\u9762\u5BF9\u60A8\u7684\u4E1A\u52A1\u9020\u6210\u635F\u5931\uFF0C\u662F\u5426\u7EE7\u7EED\uFF1F","\u63D0\u793A",{type:"info"}).then(()=>{this.$API.overview.srvrestart.post()}).catch(()=>{}),e=="outLogin"&&this.$confirm("\u786E\u8BA4\u662F\u5426\u9000\u51FA\u5F53\u524D\u7528\u6237\uFF1F","\u63D0\u793A",{type:"warning",confirmButtonText:"\u9000\u51FA",confirmButtonClass:"el-button--danger"}).then(()=>{this.$router.replace({path:"/login"})}).catch(()=>{})},screen(){var e=document.documentElement;this.$TOOL.screen(e)},showMsg(){this.msg=!0},markRead(){this.msgList=[]},search(){this.searchVisible=!0},tasks(){this.tasksVisible=!0}}},Ut={class:"user-bar"},zt={class:"user-avatar"},Gt=k("\u91CD\u542F\u670D\u52A1"),Ht=k("\u9000\u51FA\u767B\u5F55");function Wt(e,t,o,d,l,i){const u=ke,f=xe,g=V,_=we,m=Te,c=Ce,x=T("search"),y=Ee,v=T("tasks"),L=H;return a(),h($,null,[r("div",Ut,[s(c,{class:"user panel-item",trigger:"click",onCommand:i.handleUser},{dropdown:n(()=>[s(m,null,{default:n(()=>[s(_,{command:"restart"},{default:n(()=>[Gt]),_:1}),s(_,{divided:"",command:"outLogin"},{default:n(()=>[Ht]),_:1})]),_:1})]),default:n(()=>[r("div",zt,[s(u,{size:30},{default:n(()=>[k(w(l.userNameF),1)]),_:1}),r("label",null,w(l.userName),1),s(g,{class:"el-icon--right"},{default:n(()=>[s(f)]),_:1})])]),_:1},8,["onCommand"])]),s(y,{modelValue:l.searchVisible,"onUpdate:modelValue":t[1]||(t[1]=C=>l.searchVisible=C),width:700,title:"\u641C\u7D22",class:"drawerBG",center:"","destroy-on-close":""},{default:n(()=>[s(x,{onSuccess:t[0]||(t[0]=C=>l.searchVisible=!1)})]),_:1},8,["modelValue"]),s(L,{modelValue:l.tasksVisible,"onUpdate:modelValue":t[2]||(t[2]=C=>l.tasksVisible=C),size:450,title:"\u4EFB\u52A1\u4E2D\u5FC3","custom-class":"drawerBG","destroy-on-close":""},{default:n(()=>[s(v)]),_:1},8,["modelValue"])],64)}const Kt=E(Ft,[["render",Wt],["__scopeId","data-v-b2a564fd"]]);const Yt={data(){return{layout:this.$store.state.global.layout,menuIsCollapse:this.$store.state.global.menuIsCollapse,layoutTags:this.$store.state.global.layoutTags,lang:this.$TOOL.data.get("APP_LANG")||this.$CONFIG.LANG,dark:this.$TOOL.data.get("APP_DARK")||!1,colorList:["#409EFF","#009688","#536dfe","#ff5c93","#c62f2f","#fd726d"],colorPrimary:this.$TOOL.data.get("APP_COLOR")||this.$CONFIG.COLOR||"#409EFF"}},watch:{layout(e){this.$store.commit("SET_layout",e)},menuIsCollapse(){this.$store.commit("TOGGLE_menuIsCollapse")},layoutTags(){this.$store.commit("TOGGLE_layoutTags")},dark(e){e?(document.documentElement.classList.add("dark"),this.$TOOL.data.set("APP_DARK",e)):(document.documentElement.classList.remove("dark"),this.$TOOL.data.remove("APP_DARK"))},lang(e){this.$i18n.locale=e,this.$TOOL.data.set("APP_LANG",e)},colorPrimary(e){document.documentElement.style.setProperty("--el-color-primary",e);for(let t=1;t<=9;t++)document.documentElement.style.setProperty(`--el-color-primary-light-${t}`,R.lighten(e,t/10));for(let t=1;t<=9;t++)document.documentElement.style.setProperty(`--el-color-primary-dark-${t}`,R.darken(e,t/10));this.$TOOL.data.set("APP_COLOR",e)}}},qt=k(">");function Xt(e,t,o,d,l,i){const u=F,f=Le,g=Ie,_=Pe,m=Ve,c=Me,x=Oe,y=Se;return a(),p(y,{ref:"form","label-width":"120px","label-position":"left",style:{padding:"0 20px"}},{default:n(()=>[s(u,{title:"\u4EE5\u4E0B\u914D\u7F6E\u53EF\u5B9E\u65F6\u9884\u89C8\uFF0C\u5F00\u53D1\u8005\u53EF\u5728 config/index.js \u4E2D\u914D\u7F6E\u9ED8\u8BA4\u503C\uFF0C\u975E\u5E38\u4E0D\u5EFA\u8BAE\u5728\u751F\u4EA7\u73AF\u5883\u4E0B\u5F00\u653E\u5E03\u5C40\u8BBE\u7F6E",type:"error",closable:!1}),s(f),s(_,{label:e.$t("user.nightmode")},{default:n(()=>[s(g,{modelValue:l.dark,"onUpdate:modelValue":t[0]||(t[0]=v=>l.dark=v)},null,8,["modelValue"])]),_:1},8,["label"]),s(_,{label:e.$t("user.language")},{default:n(()=>[s(c,{modelValue:l.lang,"onUpdate:modelValue":t[1]||(t[1]=v=>l.lang=v)},{default:n(()=>[s(m,{label:"\u7B80\u4F53\u4E2D\u6587",value:"zh-cn"}),s(m,{label:"English",value:"en"})]),_:1},8,["modelValue"])]),_:1},8,["label"]),s(f),s(_,{label:"\u4E3B\u9898\u989C\u8272"},{default:n(()=>[s(x,{modelValue:l.colorPrimary,"onUpdate:modelValue":t[2]||(t[2]=v=>l.colorPrimary=v),predefine:l.colorList},{default:n(()=>[qt]),_:1},8,["modelValue","predefine"])]),_:1}),s(f),s(_,{label:"\u6846\u67B6\u5E03\u5C40"},{default:n(()=>[s(c,{modelValue:l.layout,"onUpdate:modelValue":t[3]||(t[3]=v=>l.layout=v),placeholder:"\u8BF7\u9009\u62E9"},{default:n(()=>[s(m,{label:"\u9ED8\u8BA4",value:"default"}),s(m,{label:"\u901A\u680F",value:"header"}),s(m,{label:"\u7ECF\u5178",value:"menu"}),s(m,{label:"\u529F\u80FD\u575E",value:"dock"})]),_:1},8,["modelValue"])]),_:1}),s(_,{label:"\u6298\u53E0\u83DC\u5355"},{default:n(()=>[s(g,{modelValue:l.menuIsCollapse,"onUpdate:modelValue":t[4]||(t[4]=v=>l.menuIsCollapse=v)},null,8,["modelValue"])]),_:1}),s(_,{label:"\u6807\u7B7E\u680F"},{default:n(()=>[s(g,{modelValue:l.layoutTags,"onUpdate:modelValue":t[5]||(t[5]=v=>l.layoutTags=v)},null,8,["modelValue"])]),_:1}),s(f)]),_:1},512)}const jt=E(Yt,[["render",Xt]]);const Jt={data(){return{}},watch:{$route(e){this.push(e)}},created(){this.push(this.$route)},computed:{iframeList(){return this.$store.state.iframe.iframeList},ismobile(){return this.$store.state.global.ismobile},layoutTags(){return this.$store.state.global.layoutTags}},mounted(){},methods:{push(e){e.meta.type=="iframe"?this.ismobile||!this.layoutTags?this.$store.commit("setIframeList",e):this.$store.commit("pushIframeList",e):(this.ismobile||!this.layoutTags)&&this.$store.commit("clearIframeList")}}},Qt={class:"iframe-pages"},Zt=["src"];function es(e,t,o,d,l,i){return P((a(),h("div",Qt,[(a(!0),h($,null,M(i.iframeList,u=>P((a(),h("iframe",{key:u.meta.url,src:u.meta.url,frameborder:"0"},null,8,Zt)),[[B,e.$route.meta.url==u.meta.url]])),128))],512)),[[B,e.$route.meta.type=="iframe"]])}const ts=E(Jt,[["render",es],["__scopeId","data-v-61706fcb"]]),ss={name:"index",components:{SideM:Ye,Topbar:tt,Tags:ht,NavMenu:j,userbar:Kt,setting:jt,iframeView:ts},data(){return{settingDialog:!1,menu:[],nextMenu:[],pmenu:{},active:""}},computed:{ismobile(){return this.$store.state.global.ismobile},layout(){return this.$store.state.global.layout},layoutTags(){return this.$store.state.global.layoutTags},menuIsCollapse(){return this.$store.state.global.menuIsCollapse}},created(){this.onLayoutResize(),window.addEventListener("resize",this.onLayoutResize);var e=this.$router.sc_getMenu();this.menu=this.filterUrl(e),this.showThis()},watch:{$route(){this.showThis()},layout:{handler(e){document.body.setAttribute("data-layout",e)},immediate:!0}},methods:{openSetting(){this.settingDialog=!0},onLayoutResize(){this.$store.commit("SET_ismobile",document.body.clientWidth<992)},showThis(){this.pmenu=this.$route.meta.breadcrumb?this.$route.meta.breadcrumb[0]:{},this.nextMenu=this.filterUrl(this.pmenu.children),this.$nextTick(()=>{this.active=this.$route.meta.active||this.$route.fullPath})},showMenu(e){this.pmenu=e,this.nextMenu=this.filterUrl(e.children),(!e.children||e.children.length==0)&&e.component&&this.$router.push({path:e.path})},filterUrl(e){var t=[];return e&&e.forEach(o=>{if(o.meta=o.meta?o.meta:{},o.meta.hidden||o.meta.type=="button")return!1;o.meta.type=="iframe"&&(o.path=`/i/${o.name}`),o.children&&o.children.length>0&&(o.children=this.filterUrl(o.children)),t.push(o)}),t},exitMaximize(){document.getElementById("app").classList.remove("main-maximize")}}},os={class:"adminui-header"},ns={class:"adminui-header-left"},ls={class:"logo-bar"},as=r("img",{class:"logo",src:X},null,-1),is={key:0,class:"adminui-header-menu"},rs={class:"adminui-header-right"},cs={class:"aminui-wrapper"},us={class:"aminui-body el-container"},ds={class:"adminui-main",id:"adminui-main"};function _s(e,t,o,d,l,i){const u=T("NavMenu"),f=K,g=T("Side-m"),_=T("userbar"),m=T("Tags"),c=T("router-view"),x=T("iframe-view"),y=Y,v=V;return a(),h($,null,[r("header",os,[r("div",ns,[r("div",ls,[as,r("span",null,w(e.$CONFIG.APP_NAME),1)]),i.ismobile?b("",!0):(a(),h("div",is,[s(f,{mode:"horizontal","default-active":l.active,router:"","background-color":"#222b45","text-color":"#fff","active-text-color":"var(--el-color-primary)"},{default:n(()=>[s(u,{navMenus:l.menu},null,8,["navMenus"])]),_:1},8,["default-active"])]))]),r("div",rs,[i.ismobile?(a(),p(g,{key:0})):b("",!0),s(_)])]),r("section",cs,[r("div",us,[!i.ismobile&&i.layoutTags?(a(),p(m,{key:0})):b("",!0),r("div",ds,[s(c,null,{default:n(({Component:L})=>[(a(),p(Ae,{include:this.$store.state.keepAlive.keepLiveRoute},[e.$store.state.keepAlive.routeShow?(a(),p(O(L),{key:e.$route.fullPath})):b("",!0)],1032,["include"]))]),_:1}),s(x)])])]),r("div",{class:"main-maximize-exit",onClick:t[0]||(t[0]=(...L)=>i.exitMaximize&&i.exitMaximize(...L))},[s(v,null,{default:n(()=>[s(y)]),_:1})])],64)}const xs=E(ss,[["render",_s]]);export{xs as default};
