import{_ as h,a9 as v,aa as V,ab as w,o as n,e as u,w as r,f as t,C as k,l as d,n as y,m as I,s as E,q as C,B as x}from"./index.24f9f7c9.js";const S={emits:["success","closed"],data(){return{mode:"add",titleMap:{add:"\u65B0\u589E",edit:"\u7F16\u8F91",show:"\u67E5\u770B"},visible:!1,isSaveing:!1,form:{id:"",parentId:"",label:"",sort:1,status:"1",remark:""},rules:{sort:[{required:!0,message:"\u8BF7\u8F93\u5165\u6392\u5E8F",trigger:"change"}],label:[{required:!0,message:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0"}]},groups:[],groupsProps:{value:"id",emitPath:!1,checkStrictly:!0}}},mounted(){this.getGroup()},methods:{open(l="add"){return this.mode=l,this.visible=!0,this},async getGroup(){var l=await this.$API.system.dept.list.get();this.groups=l.data},submit(){this.$refs.dialogForm.validate(async l=>{if(l){this.isSaveing=!0;var o=await this.$API.demo.post.post(this.form);this.isSaveing=!1,o.code==200?(this.$emit("success",this.form,this.mode),this.visible=!1,this.$message.success("\u64CD\u4F5C\u6210\u529F")):this.$alert(o.message,"\u63D0\u793A",{type:"error"})}})},setData(l){this.form.id=l.id,this.form.label=l.label,this.form.status=l.status,this.form.sort=l.sort,this.form.parentId=l.parentId,this.form.remark=l.remark}}},U=d("\u53D6 \u6D88"),P=d("\u4FDD \u5B58");function B(l,o,F,N,e,p){const f=v,i=y,m=I,b=V,_=w,g=E,a=C,c=x;return n(),u(c,{title:e.titleMap[e.mode],modelValue:e.visible,"onUpdate:modelValue":o[7]||(o[7]=s=>e.visible=s),width:500,"destroy-on-close":"",onClosed:o[8]||(o[8]=s=>l.$emit("closed"))},{footer:r(()=>[t(a,{onClick:o[5]||(o[5]=s=>e.visible=!1)},{default:r(()=>[U]),_:1}),e.mode!="show"?(n(),u(a,{key:0,type:"primary",loading:e.isSaveing,onClick:o[6]||(o[6]=s=>p.submit())},{default:r(()=>[P]),_:1},8,["loading"])):k("",!0)]),default:r(()=>[t(g,{model:e.form,rules:e.rules,disabled:e.mode=="show",ref:"dialogForm","label-width":"100px"},{default:r(()=>[t(i,{label:"\u4E0A\u7EA7\u90E8\u95E8",prop:"parentId"},{default:r(()=>[t(f,{modelValue:e.form.parentId,"onUpdate:modelValue":o[0]||(o[0]=s=>e.form.parentId=s),options:e.groups,props:e.groupsProps,"show-all-levels":!1,clearable:"",style:{width:"100%"}},null,8,["modelValue","options","props"])]),_:1}),t(i,{label:"\u90E8\u95E8\u540D\u79F0",prop:"label"},{default:r(()=>[t(m,{modelValue:e.form.label,"onUpdate:modelValue":o[1]||(o[1]=s=>e.form.label=s),placeholder:"\u8BF7\u8F93\u5165\u90E8\u95E8\u540D\u79F0",clearable:""},null,8,["modelValue"])]),_:1}),t(i,{label:"\u6392\u5E8F",prop:"sort"},{default:r(()=>[t(b,{modelValue:e.form.sort,"onUpdate:modelValue":o[2]||(o[2]=s=>e.form.sort=s),"controls-position":"right",min:1,style:{width:"100%"}},null,8,["modelValue"])]),_:1}),t(i,{label:"\u662F\u5426\u6709\u6548",prop:"status"},{default:r(()=>[t(_,{modelValue:e.form.status,"onUpdate:modelValue":o[3]||(o[3]=s=>e.form.status=s),"active-value":1,"inactive-value":0},null,8,["modelValue"])]),_:1}),t(i,{label:"\u5907\u6CE8",prop:"remark"},{default:r(()=>[t(m,{modelValue:e.form.remark,"onUpdate:modelValue":o[4]||(o[4]=s=>e.form.remark=s),clearable:"",type:"textarea"},null,8,["modelValue"])]),_:1})]),_:1},8,["model","rules","disabled"])]),_:1},8,["title","modelValue"])}const D=h(S,[["render",B]]);export{D as default};
