import{_ as v,Z as w,U as O,j as A,Y as P,N as S,Q as E,b as I,V as M,o as n,e as l,w as o,f as t,g as i,t as m,W as u,L as C,M as L}from"./index.8c95325c.js";/* empty css                */import{_ as D}from"./index.35a3cac6.js";/* empty css                */const N={data(){return{progressWidth:120,colors:[{color:"#5cb87a",percentage:25},{color:"#6f7ad3",percentage:60},{color:"#e6a23c",percentage:85},{color:"#f56c6c",percentage:100}],info:{cpu:0,memp:0,appmemp:0,disk:0},cpuOption:{tooltip:{trigger:"axis"},grid:{x:5,y:5,x2:5,y2:2},xAxis:{boundaryGap:!1,type:"category",data:[]},yAxis:[{type:"value",splitLine:{show:!0}}],series:[{name:"CPU \u4F7F\u7528\u7387",type:"line",symbol:"none",lineStyle:{width:1,color:"#409EFF"},areaStyle:{opacity:.1,color:"#79bbff"},data:[]}]},memOption:{tooltip:{trigger:"axis"},grid:{x:5,y:5,x2:5,y2:5},xAxis:{boundaryGap:!1,type:"category",data:[]},yAxis:[{type:"value",splitLine:{show:!0}}],series:[{name:"\u5185\u5B58\u4F7F\u7528\u7387",type:"line",symbol:"none",lineStyle:{width:1,color:"#409EFF"},areaStyle:{opacity:.1,color:"#79bbff"},data:[]}]},appMemOption:{tooltip:{trigger:"axis"},grid:{x:5,y:5,x2:5,y2:5},xAxis:{boundaryGap:!1,type:"category",data:[]},yAxis:[{type:"value",splitLine:{show:!0}}],series:[{name:"APP\u5185\u5B58\u5360\u7528",type:"line",symbol:"none",lineStyle:{width:1,color:"#409EFF"},areaStyle:{opacity:.1,color:"#79bbff"},data:[]}]},loading:!0,processInfo:[]}},mounted(){setInterval(()=>{location.pathname.includes("/mscui/overview")&&(this.sys(),this.loading=!1)},5e3)},methods:{async sys(){var s=await this.$API.overview.sysinfo.get();this.info=s.details,this.cpuOption.series[0].data.push(s.details.cpu),this.memOption.series[0].data.push(s.details.memp),this.appMemOption.series[0].data.push(s.details.appmem),this.cpuOption.series[0].data.length>120&&(this.cpuOption.series[0].data.shift(),this.memOption.series[0].data.shift(),this.appMemOption.series[0].data.shift());var c=new Date;this.cpuOption.xAxis.data.push(c.toLocaleTimeString().replace(/^\D*/,"")),this.memOption.xAxis.data.push(c.toLocaleTimeString().replace(/^\D*/,"")),this.appMemOption.xAxis.data.push(c.toLocaleTimeString().replace(/^\D*/,"")),this.cpuOption.xAxis.data.length>120&&(this.cpuOption.xAxis.data.shift(),this.memOption.xAxis.data.shift(),this.appMemOption.xAxis.data.shift()),this.processInfo=s.details.processinfo}}},g=s=>(C("data-v-31623c90"),s=s(),L(),s),F={class:"progress"},W={class:"percentage-value"},T=g(()=>i("div",{class:"percentage-label"},"CPU\u4F7F\u7528\u7387",-1)),U={class:"percentage-value"},k=g(()=>i("div",{class:"percentage-label"},"\u5185\u5B58\u4F7F\u7528\u7387",-1)),B={class:"percentage-value"},G=g(()=>i("div",{class:"percentage-label"},"APP\u5185\u5B58\u4F7F\u7528\u7387",-1)),V={class:"percentage-value"},j=g(()=>i("div",{class:"percentage-label"},"\u78C1\u76D8\u4F7F\u7528\u7387",-1));function Q(s,c,R,Y,e,Z){const d=w,p=O,h=A,f=D,y=P,r=S,x=E,b=I,_=M;return n(),l(b,null,{default:o(()=>[t(y,{gutter:24},{default:o(()=>[t(h,{span:14},{default:o(()=>[t(p,{shadow:"hover",header:"\u7CFB\u7EDF\u72B6\u6001",style:{height:"20rem"}},{default:o(()=>[i("div",F,[t(d,{type:"dashboard",percentage:Number(e.info.cpu),width:e.progressWidth,color:e.colors},{default:o(({percentage:a})=>[i("div",W,m(a)+"%",1),T]),_:1},8,["percentage","width","color"]),t(d,{type:"dashboard",percentage:Number(e.info.memp),width:e.progressWidth,color:e.colors},{default:o(({percentage:a})=>[i("div",U,m(a)+"%",1),k]),_:1},8,["percentage","width","color"]),t(d,{type:"dashboard",percentage:Number(e.info.appmemp),width:e.progressWidth,color:e.colors},{default:o(({percentage:a})=>[i("div",B,m(a)+"%",1),G]),_:1},8,["percentage","width","color"]),t(d,{type:"dashboard",percentage:Number(e.info.disk),width:e.progressWidth,color:e.colors},{default:o(({percentage:a})=>[i("div",V,m(a)+"%",1),j]),_:1},8,["percentage","width","color"])])]),_:1})]),_:1}),t(h,{span:10},{default:o(()=>[u((n(),l(p,{shadow:"hover",header:"CPU(%)",style:{height:"20rem"}},{default:o(()=>[t(f,{ref:"c1",height:"12rem",option:e.cpuOption},null,8,["option"])]),_:1})),[[_,e.loading]])]),_:1})]),_:1}),t(y,{gutter:24},{default:o(()=>[t(h,{span:14},{default:o(()=>[u((n(),l(p,{shadow:"hover",header:"\u8FDB\u7A0B\u4FE1\u606F",style:{height:"41.25rem"}},{default:o(()=>[t(x,{data:e.processInfo,style:{width:"100%"},height:"40rem"},{default:o(()=>[t(r,{prop:"pid",label:"PID",width:"80"}),t(r,{prop:"pname",label:"\u8FDB\u7A0B\u540D\u79F0",width:"260"}),t(r,{prop:"cpupercent",label:"CPU"}),t(r,{prop:"meminfo",label:"\u5185\u5B58"}),t(r,{prop:"io",label:"IO"})]),_:1},8,["data"])]),_:1})),[[_,e.loading]])]),_:1}),t(h,{span:10},{default:o(()=>[u((n(),l(p,{shadow:"hover",header:"\u5185\u5B58(%)",style:{height:"20rem"}},{default:o(()=>[t(f,{ref:"c1",height:"12rem",option:e.memOption},null,8,["option"])]),_:1})),[[_,e.loading]]),u((n(),l(p,{shadow:"hover",header:"APP(MB)",style:{height:"20rem"}},{default:o(()=>[t(f,{ref:"c1",height:"12rem",option:e.appMemOption},null,8,["option"])]),_:1})),[[_,e.loading]])]),_:1})]),_:1})]),_:1})}const K=v(N,[["render",Q],["__scopeId","data-v-31623c90"]]);export{K as default};
